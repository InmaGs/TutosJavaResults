<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <constant name="struts.devMode" value="true" />
    <constant name="struts.configuration.xml.reload" value="true" />
    
    <package name="struts-results" extends="struts-default">
        <action name="index">
            <result>/index.jsp</result>
        </action>
        <!--Añadimos un action para el ejercicio 1: dispatcher. -->
        <action name="dispatcher" class="com.javatutoriales.results.actions.DispatcherResultAction">
            <!-- Definimos los results correspondientes: -->
            <result name="success" type="dispatcher">
                <param name="location">/dispatcher/exito.jsp</param>
            </result>
            <result name="error" type="dispatcher">
                <param name="location">/dispatcher/error.jsp</param>
            </result>
            <!-- Como location es el parámetro por defecto del tipo de error dispatcher, se puede
                simplificar: <result name="success" type="dispatcher">/dispatcher/exito.jsp</result>
                y como dispatcher es el tipo por defecto del tipo de result, entonces finalmente 
                quedaría: <result name="success">/dispatcher/exito.jsp</result>-->
            <!-- También se puede usar un parámetro para obtener la dirección a la que reenviar
                la petición del usuario: <result name="error">${ubicacion}</result>. Para obtener
                esta dirección habría que añadir un getter a la clase:
                public String getUbicacion(){return "/pagina.jsp";}-->
        </action>
        <!-- Añadimos un action para el ejercicio 2: redirect. -->
        <action name="redirect" class="com.javatutoriales.results.actions.RedirectResultAction">
            <!-- Agregamos el resultado, cuyo parámetro por defecto es location y se puede dejar: -->
            <result type="redirect">/dispatcher/index.jsp</result>
        </action>
    </package>
</struts>
